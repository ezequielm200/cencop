<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head') %>
    <link rel="stylesheet" href="/stylesheets/users.css">
    <link rel="stylesheet" href="/stylesheets/general.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="/js/userRegisterValidation.js"></script>
    <script src="https://kit.fontawesome.com/3c9eeab8c1.js" crossorigin="anonymous"></script>
    <title>Registro</title>
  </head>

  <body>

    <%- include('./partials/header') %>
    <main class="form-signin">
        <div>
          <a class="form-signin-logo" href="/">Cencop</a>
        </div>
        <form
          method="post"
          action="/users/registro"
          enctype="multipart/form-data"
          class="registerForm">
          <h1 class="form-user-title h5 mb-3 fw-bold">
          Bienvenido/a!<br />Por favor registrate con tus datos:
          </h1>
          <div class="form-floating" id="nameInput">
            <label for="nombre">Nombre *</label>
            <input
            type="text"
            class="form-control <%= locals.errors && errors.userName ? 'is-invalid' : null %>"
            id="nombre"
            name="userName"
            placeholder="Juan"
            value="<%= locals.oldData ? oldData.userName : null %>">
            <p id="nameError" class="errorTextFront"></p>
            <% if (locals.errors && errors.userName) { %>
              <p class="errorTextBack"> <%= errors.userName.msg %> </p>
              <% } %>
              
          </div>
          <div class="form-floating" id="surnameInput">
            <label for="apellido">Apellido *</label>
            <input
              type="text"
              class="form-control <%= locals.errors && errors.userLastName ? 'is-invalid' : null %>"
              id="apellido"
              name="userLastName"
              placeholder="Perez"
              value="<%= locals.oldData ? oldData.userLastName : null %>">
              <p id="apellidoError" class="errorTextFront"></p>
            <% if (locals.errors && errors.userLastName) { %>
              <p class="errorTextBack"> <%= errors.userLastName.msg %> </p>
            <% } %>

          </div>
          <div class="form-floating" id="emailInput">
            <label for="email">Correo electrónico *</label>
            <input
              type="email"
              class="form-control <%= locals.errors && errors.userEmail ? 'is-invalid' : null %>"
              id="email"
              name="userEmail"
              placeholder="name@example.com"
              value="<%= locals.oldData ? oldData.userEmail : null %>">
              <p id="emailError" class="errorTextFront"></p>
            <% if (locals.errors && errors.userEmail) { %>
              <p class="errorTextBack"> <%= errors.userEmail.msg %> </p>
            <% } %>

          </div>

          <div class="form-floating" id="passwordInput">
            <label for="password">Elegir contraseña *</label>
            <input
              type="password"
              class="form-control <%= locals.errors && errors.userPassword ? 'is-invalid' : null %>"
              id="password"
              name="userPassword"
              placeholder="Contraseña"
            />
            <p id="contrasenaError" class="errorTextFront"></p>
            <% if (locals.errors && errors.userPassword) { %>
              <p class="errorTextBack"> <%= errors.userPassword.msg %> </p>
            <% } %>

          </div>
          <br>
          <div class="form-floating-img" id="imageInput">
          <label class="uploadFile <%= locals.errors && errors.profilePic ? 'is-invalid' : null %>"
          for="profilePic">Elegir foto de perfil *</label>
            <input
              type="file" name="profilePic" id="profilePic"  accept=".jpg, .jpeg, .png"
              value="<%= locals.oldData ? oldData.profilePic : null %>">
              <p id="imgError" class="errorTextFront"></p>
              <% if (locals.errors && errors.profilePic) { %>
                <p class="errorTextBack"> <%= errors.profilePic.msg %> </p>
              <% } %>

          </div>
          <br />
          <div class="checkbox mb-3">
            <input type="checkbox" name="userTermsAccept" id="terminosCondiciones"/>
            <p id="termsError" class="errorTextFront"></p>
            <% if (locals.errors && errors.userTermsAccept) { %>
              <p class="errorTextBack"> <%= errors.userTermsAccept.msg %> </p>
              <% } %>
              <label for="terminosCondiciones">
                Acepto los <a href="#!">Términos y Condiciones *</a>
              </label>
            </div>
          <button class="btn-enviar w-100" type="submit" id="submit">Registrarme</button>

      </form>
    </main>

    <%- include('./partials/footer') %>
  </body>
</html>
